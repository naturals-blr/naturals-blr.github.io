{# ── Shared macros — themes, footer, buttons, sticky bar, modal, hamburger ── #}

{# ── THEME CSS VARIABLES ── #}
{% macro theme_vars() %}
:root {
  --dark:#111714;--green:#1B4332;--green-mid:#2D6A4F;--green-soft:#52B788;
  --cream:#F8F4EE;--gold:#C9A84C;--gold-pale:#EDD9A3;
  --text:#1A1A1A;--text-mid:#555;--text-light:#999;
  --hero-tint:rgba(17,23,20,0.88);--hero-tint2:rgba(17,23,20,0.45);
  --filter-bg:#111714;--card-hover-border:#C9A84C;
  --nav-bg:rgba(17,23,20,0.97);
}
[data-theme="naturals"] {
  --dark:#1A0533;--green:#2596BE;--green-mid:#7B2FBE;--green-soft:#B678F0;
  --cream:#FAF7FF;--gold:#C9A84C;--gold-pale:#EDD9A3;
  --text:#1A1A1A;--text-mid:#4A4458;--text-light:#8B7FA8;
  --hero-tint:rgba(26,5,51,0.87);--hero-tint2:rgba(58,10,100,0.45);
  --filter-bg:#1A0533;--card-hover-border:#7B2FBE;
  --nav-bg:rgba(26,5,51,0.97);
}
{% endmacro %}

{# ── TRACKING SCRIPTS — GTM + Meta Pixel ── #}
{% macro tracking_head(gtm_id='', pixel_id='') %}
{% if gtm_id %}
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','{{ gtm_id }}');</script>
<!-- End Google Tag Manager -->
{% endif %}
{% if pixel_id %}
<!-- Meta Pixel -->
<script>!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,document,'script','https://connect.facebook.net/en_US/fbevents.js');fbq('init','{{ pixel_id }}');fbq('track','PageView');</script>
<noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id={{ pixel_id }}&ev=PageView&noscript=1"/></noscript>
<!-- End Meta Pixel -->
{% endif %}
{% endmacro %}

{% macro tracking_body(gtm_id='') %}
{% if gtm_id %}
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id={{ gtm_id }}" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End GTM noscript -->
{% endif %}
{% endmacro %}

{# ── THEME TOGGLE PILL ── #}
{% macro theme_toggle() %}
<div id="theme-pill" title="Switch theme">
  <button id="tp-luxury" class="tp-btn active" onclick="setTheme('luxury')">&#9728; Luxury</button>
  <button id="tp-naturals" class="tp-btn" onclick="setTheme('naturals')">&#9680; Naturals</button>
</div>
<style>
#theme-pill{position:fixed;bottom:32px;left:32px;z-index:600;display:flex;background:rgba(17,23,20,0.92);border:1px solid rgba(255,255,255,0.12);backdrop-filter:blur(16px);overflow:hidden;box-shadow:0 4px 24px rgba(0,0,0,0.35);}
[data-theme="naturals"] #theme-pill{background:rgba(26,5,51,0.92);border-color:rgba(255,255,255,0.15);}
.tp-btn{padding:9px 16px;font-size:10px;letter-spacing:1.8px;text-transform:uppercase;font-family:'Jost',sans-serif;font-weight:600;background:transparent;border:none;color:rgba(255,255,255,0.4);cursor:pointer;transition:all 0.25s;white-space:nowrap;}
.tp-btn:hover{color:rgba(255,255,255,0.8);}
.tp-btn.active{background:var(--gold);color:#111714;}
[data-theme="naturals"] .tp-btn.active{background:var(--green-mid);color:#fff;}
@media(max-width:992px){#theme-pill{display:none;}}
</style>
<script>
(function(){
  function setTheme(t){
    document.documentElement.setAttribute('data-theme',t);
    localStorage.setItem('naturals-theme',t);
    var lx=document.getElementById('tp-luxury'),nt=document.getElementById('tp-naturals');
    if(lx)lx.classList.toggle('active',t==='luxury');
    if(nt)nt.classList.toggle('active',t==='naturals');
  }
  window.setTheme=setTheme;
  var saved=localStorage.getItem('naturals-theme')||'luxury';
  document.documentElement.setAttribute('data-theme',saved);
  document.addEventListener('DOMContentLoaded',function(){
    var lx=document.getElementById('tp-luxury'),nt=document.getElementById('tp-naturals');
    if(lx)lx.classList.toggle('active',saved==='luxury');
    if(nt)nt.classList.toggle('active',saved==='naturals');
  });
})();
</script>
{% endmacro %}

{# ── STORE DATA JSON — inject into every page for sticky bar + modal ── #}
{% macro stores_json(stores, base_path='') %}
<script>
window.NATURALS_STORES = {{ stores | tojson }};
window.NATURALS_BASE   = '{{ base_path }}';
</script>
{% endmacro %}

{# ── HAMBURGER NAV (mobile, right-side drawer) ── #}
{% macro hamburger_nav(base_path='', active_page='') %}
<button id="hamburger" aria-label="Open menu" aria-expanded="false">
  <span></span><span></span><span></span>
</button>
<div id="nav-overlay" onclick="closeDrawer()"></div>
<nav id="nav-drawer" aria-label="Mobile navigation">
  <button id="drawer-close" onclick="closeDrawer()" aria-label="Close menu">&#10005;</button>
  <div class="drawer-logo">
    <div class="drawer-brand">Naturals <span>Salon &amp; Spa</span></div>
  </div>
  <ul class="drawer-links">
    <li><a href="{{ base_path }}index.html" {% if active_page=='home' %}class="drawer-active"{% endif %}>Home</a></li>
    <li><a href="{{ base_path }}services.html" {% if active_page=='services' %}class="drawer-active"{% endif %}>Services</a></li>
    <li><a href="{{ base_path }}offers.html" {% if active_page=='offers' %}class="drawer-active"{% endif %}>Offers</a></li>
    <li><a href="{{ base_path }}index.html#our-stores" {% if active_page=='stores' %}class="drawer-active"{% endif %}>Our Stores</a></li>
    <li><a href="{{ base_path }}contact.html" {% if active_page=='contact' %}class="drawer-active"{% endif %}>Contact Us</a></li>
  </ul>
  <div class="drawer-cta">
    <a href="{{ base_path }}index.html#our-stores" class="drawer-book-btn" onclick="closeDrawer()">&#128197; Book Appointment</a>
  </div>
</nav>
<style>
#hamburger{display:none;flex-direction:column;justify-content:space-between;width:28px;height:20px;background:none;border:none;cursor:pointer;padding:0;z-index:210;}
#hamburger span{display:block;width:100%;height:2px;background:#fff;transition:all 0.3s;}
#hamburger.open span:nth-child(1){transform:translateY(9px) rotate(45deg);}
#hamburger.open span:nth-child(2){opacity:0;}
#hamburger.open span:nth-child(3){transform:translateY(-9px) rotate(-45deg);}
#nav-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.55);z-index:400;backdrop-filter:blur(2px);}
#nav-overlay.show{display:block;}
#nav-drawer{position:fixed;top:0;right:-320px;width:300px;height:100%;background:var(--dark);z-index:500;padding:0;transition:right 0.35s cubic-bezier(0.4,0,0.2,1);display:flex;flex-direction:column;box-shadow:-8px 0 40px rgba(0,0,0,0.4);}
[data-theme="naturals"] #nav-drawer{background:#12032a;}
#nav-drawer.open{right:0;}
#drawer-close{position:absolute;top:18px;right:20px;background:none;border:none;color:rgba(255,255,255,0.5);font-size:20px;cursor:pointer;padding:8px;transition:color 0.2s;line-height:1;}
#drawer-close:hover{color:#fff;}
.drawer-logo{padding:28px 28px 20px;border-bottom:1px solid rgba(255,255,255,0.07);}
.drawer-brand{font-family:'Cormorant Garamond',serif;font-size:20px;color:#fff;font-weight:300;}
.drawer-brand span{color:var(--gold);font-style:italic;}
.drawer-links{list-style:none;padding:16px 0;flex:1;}
.drawer-links li a{display:block;padding:14px 28px;font-size:13px;letter-spacing:2px;text-transform:uppercase;color:rgba(255,255,255,0.55);font-weight:500;transition:all 0.2s;border-left:2px solid transparent;}
.drawer-links li a:hover,.drawer-links li a.drawer-active{color:#fff;border-left-color:var(--gold);background:rgba(255,255,255,0.04);}
.drawer-cta{padding:20px 28px;border-top:1px solid rgba(255,255,255,0.07);}
.drawer-book-btn{display:flex;align-items:center;justify-content:center;gap:8px;background:var(--gold);color:var(--dark);padding:14px;font-size:11px;letter-spacing:2px;text-transform:uppercase;font-weight:700;text-decoration:none;transition:all 0.3s;}
.drawer-book-btn:hover{background:var(--gold-pale);}
@media(max-width:992px){#hamburger{display:flex;}}
</style>
<script>
function openDrawer(){document.getElementById('nav-drawer').classList.add('open');document.getElementById('nav-overlay').classList.add('show');document.getElementById('hamburger').classList.add('open');document.getElementById('hamburger').setAttribute('aria-expanded','true');document.body.style.overflow='hidden';}
function closeDrawer(){document.getElementById('nav-drawer').classList.remove('open');document.getElementById('nav-overlay').classList.remove('show');document.getElementById('hamburger').classList.remove('open');document.getElementById('hamburger').setAttribute('aria-expanded','false');document.body.style.overflow='';}
document.getElementById('hamburger').addEventListener('click',function(){this.classList.contains('open')?closeDrawer():openDrawer();});
document.addEventListener('keydown',function(e){if(e.key==='Escape')closeDrawer();});
</script>
{% endmacro %}

{# ── ACTIVE STORE INDICATOR (shows in nav when store saved) ── #}
{% macro store_indicator() %}
<div id="store-indicator" style="display:none;">
  <span id="si-label">Viewing: <strong id="si-name"></strong></span>
  <button onclick="openStorePicker()" id="si-change">Change</button>
</div>
<style>
#store-indicator{display:flex;align-items:center;gap:8px;font-size:10px;letter-spacing:1px;color:rgba(255,255,255,0.5);white-space:nowrap;}
#si-label strong{color:var(--gold);}
#si-change{background:none;border:1px solid rgba(255,255,255,0.2);color:rgba(255,255,255,0.5);padding:4px 10px;font-size:9px;letter-spacing:1.5px;text-transform:uppercase;cursor:pointer;font-family:'Jost',sans-serif;transition:all 0.2s;}
#si-change:hover{border-color:var(--gold);color:var(--gold);}
@media(max-width:992px){#store-indicator{display:none!important;}}
</style>
{% endmacro %}

{# ── STORE PICKER MODAL ── #}
{% macro store_picker_modal(stores, base_path='') %}
<div id="store-modal-overlay" onclick="closeStorePicker()" style="display:none;"></div>
<div id="store-modal" role="dialog" aria-modal="true" aria-label="Select your store" style="display:none;">
  <div id="store-modal-inner">
    <div class="spm-header">
      <div class="spm-title">Select Your <em>Store</em></div>
      <div class="spm-sub">Choose your preferred Naturals Salon &amp; Spa Bangalore location</div>
      <button class="spm-close" onclick="closeStorePicker()" aria-label="Close">&#10005;</button>
    </div>
    <div class="spm-cards">
      {% for s in stores %}
      <div class="spm-card" onclick="selectStore('{{ s.Store_ID }}','{{ s.Store_Name }}','{{ s.Appointment_URL }}','{{ s.WhatsApp_Number }}','{{ s.Phone_Raw }}','{{ s.Google_Maps_URL }}','{{ s.Store_Page_URL }}')" role="button" tabindex="0">
        <div class="spm-card-num">{{ loop.index }}</div>
        <div class="spm-card-info">
          <div class="spm-card-name">{{ s.Store_Name }}</div>
          <div class="spm-card-area">{{ s.Area }} &middot; {{ s.Pincode }}</div>
          <div class="spm-card-addr">{{ s.Address_Full }}</div>
        </div>
        <div class="spm-card-cta">Select &#8594;</div>
      </div>
      {% endfor %}
    </div>
  </div>
</div>
<style>
#store-modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,0.65);z-index:700;backdrop-filter:blur(4px);}
#store-modal{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:800;width:90%;max-width:600px;max-height:88vh;overflow-y:auto;background:var(--cream);box-shadow:0 24px 80px rgba(0,0,0,0.45);}
[data-theme="naturals"] #store-modal{background:#FAF7FF;}
#store-modal-inner{display:flex;flex-direction:column;}
.spm-header{background:var(--dark);padding:28px 32px;position:relative;}
[data-theme="naturals"] .spm-header{background:#1A0533;}
.spm-title{font-family:'Cormorant Garamond',serif;font-size:28px;font-weight:300;color:#fff;margin-bottom:4px;}
.spm-title em{font-style:italic;color:var(--gold);}
.spm-sub{font-size:11px;color:rgba(255,255,255,0.4);letter-spacing:1px;}
.spm-close{position:absolute;top:20px;right:24px;background:none;border:none;color:rgba(255,255,255,0.45);font-size:20px;cursor:pointer;padding:6px;transition:color 0.2s;line-height:1;}
.spm-close:hover{color:#fff;}
.spm-cards{padding:4px;}
.spm-card{display:flex;align-items:center;gap:16px;padding:18px 24px;background:#fff;border-bottom:1px solid rgba(0,0,0,0.05);cursor:pointer;transition:all 0.2s;border-left:3px solid transparent;}
.spm-card:hover{background:#f8f6f0;border-left-color:var(--gold);}
[data-theme="naturals"] .spm-card{background:#fff;}
[data-theme="naturals"] .spm-card:hover{background:#f3eeff;border-left-color:var(--green-mid);}
.spm-card:focus{outline:2px solid var(--gold);outline-offset:-2px;}
.spm-card-num{font-family:'Cormorant Garamond',serif;font-size:28px;color:rgba(0,0,0,0.12);font-weight:300;width:30px;flex-shrink:0;}
.spm-card-info{flex:1;}
.spm-card-name{font-family:'Cormorant Garamond',serif;font-size:19px;font-weight:400;color:var(--text);margin-bottom:2px;}
.spm-card-area{font-size:10px;color:var(--gold);letter-spacing:2px;text-transform:uppercase;margin-bottom:3px;}
.spm-card-addr{font-size:11px;color:var(--text-light);font-weight:300;}
.spm-card-cta{font-size:11px;color:var(--text-light);letter-spacing:1px;text-transform:uppercase;white-space:nowrap;transition:color 0.2s;}
.spm-card:hover .spm-card-cta{color:var(--green-mid);}
@media(max-width:480px){
  #store-modal{top:auto;bottom:0;left:0;right:0;transform:none;width:100%;max-width:100%;max-height:90vh;border-radius:16px 16px 0 0;}
  .spm-card{padding:14px 18px;}
}
</style>
{% endmacro %}

{# ── STICKY MOBILE CTA BAR ── #}
{% macro sticky_mobile_bar(page_type='other', store=None) %}
<div id="sticky-bar">
  <button class="sb-btn sb-primary" id="sb-book" aria-label="Book appointment">&#128197; Book</button>
  <a class="sb-btn sb-secondary" id="sb-wa" aria-label="WhatsApp us">{{ wa_svg(16) }} Chat</a>
  <a class="sb-btn sb-secondary" id="sb-call" aria-label="Call us">&#128222; Call</a>
  <a class="sb-btn sb-secondary" id="sb-maps" aria-label="Get directions">&#128205; Directions</a>
</div>
<style>
#sticky-bar{display:none;position:fixed;bottom:0;left:0;right:0;height:62px;z-index:9999;background:var(--dark);border-top:1px solid rgba(255,255,255,0.1);grid-template-columns:repeat(4,1fr);}
[data-theme="naturals"] #sticky-bar{background:#1A0533;}
@media(max-width:992px){#sticky-bar{display:grid;}}
.sb-btn{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:3px;font-family:'Jost',sans-serif;font-size:9px;letter-spacing:1.5px;text-transform:uppercase;font-weight:600;border:none;cursor:pointer;transition:all 0.2s;text-decoration:none;min-height:44px;padding:0 4px;}
.sb-primary{background:var(--gold);color:var(--dark);}
.sb-primary:hover,.sb-primary:active{background:var(--gold-pale);}
.sb-secondary{background:transparent;color:rgba(255,255,255,0.7);}
.sb-secondary:hover,.sb-secondary:active{color:#fff;background:rgba(255,255,255,0.07);}
#sb-wa{color:#25D366;}
#sb-wa:hover,#sb-wa:active{color:#1da851;}
</style>
<script>
(function(){
  {% if page_type == 'store' and store %}
  /* ── Store page — use this store's data ── */
  var SD = {
    id:   '{{ store.Store_ID }}',
    name: '{{ store.Store_Name }}',
    book: '{{ store.Appointment_URL }}',
    wa:   '{{ store.WhatsApp_Number }}',
    call: '{{ store.Phone_Raw }}',
    maps: '{{ store.Google_Maps_URL }}'
  };
  localStorage.setItem('naturals-store', JSON.stringify(SD));
  applyStickyStore(SD);
  {% else %}
  /* ── Non-store page — use saved store or trigger modal ── */
  var saved = null;
  try { saved = JSON.parse(localStorage.getItem('naturals-store')); } catch(e){}
  if (saved && saved.id) {
    applyStickyStore(saved);
  } else {
    /* No store saved — all 4 buttons open store picker */
    ['sb-book','sb-wa','sb-call','sb-maps'].forEach(function(id){
      var el = document.getElementById(id);
      if (!el) return;
      el.tagName === 'BUTTON'
        ? el.addEventListener('click', openStorePicker)
        : (el.href='javascript:void(0)', el.addEventListener('click', openStorePicker));
    });
  }
  {% endif %}

  function applyStickyStore(sd) {
    var book = document.getElementById('sb-book');
    var wa   = document.getElementById('sb-wa');
    var call = document.getElementById('sb-call');
    var maps = document.getElementById('sb-maps');
    if (book) { book.onclick = null; book.addEventListener('click', function(){ window.open(sd.book,'_blank'); }); }
    if (wa)   { wa.href   = 'https://wa.me/' + sd.wa; wa.target = '_blank'; }
    if (call) { call.href = 'tel:' + sd.call; }
    if (maps) { maps.href = sd.maps; maps.target = '_blank'; }
    /* Update indicator */
    showStoreIndicator(sd.name);
  }
  window._applyStickyStore = applyStickyStore;
})();
</script>
{% endmacro %}

{# ── STORE PICKER JS (shared logic) ── #}
{% macro store_picker_js() %}
<script>
function openStorePicker(){
  document.getElementById('store-modal-overlay').style.display='block';
  document.getElementById('store-modal').style.display='block';
  document.body.style.overflow='hidden';
}
function closeStorePicker(){
  document.getElementById('store-modal-overlay').style.display='none';
  document.getElementById('store-modal').style.display='none';
  document.body.style.overflow='';
}
function selectStore(id,name,book,wa,call,maps,pageUrl){
  var sd = {id:id,name:name,book:book,wa:wa,call:call,maps:maps,pageUrl:pageUrl};
  localStorage.setItem('naturals-store',JSON.stringify(sd));
  closeStorePicker();
  if (typeof window._applyStickyStore === 'function') window._applyStickyStore(sd);
  showStoreIndicator(name);
}
function showStoreIndicator(name){
  var ind = document.getElementById('store-indicator');
  var nm  = document.getElementById('si-name');
  if (ind && nm){ nm.textContent = name; ind.style.display = 'flex'; }
}
document.addEventListener('keydown',function(e){
  if(e.key==='Escape') closeStorePicker();
});
/* On load: restore indicator from localStorage */
document.addEventListener('DOMContentLoaded',function(){
  try {
    var saved = JSON.parse(localStorage.getItem('naturals-store'));
    if (saved && saved.name) showStoreIndicator(saved.name);
  } catch(e){}
});
</script>
{% endmacro %}

{# ── BUTTON MACROS ── #}
{% macro btn_book(url, label='Book Appointment', classes='') %}
<a href="{{ url }}" target="_blank" class="btn-book {{ classes }}" aria-label="{{ label }}">&#128197; {{ label }}</a>
{% endmacro %}
{% macro btn_wa(number, label='WhatsApp', classes='') %}
<a href="https://wa.me/{{ number }}" target="_blank" class="btn-wa {{ classes }}" aria-label="{{ label }}">{{ wa_svg(16) }} {{ label }}</a>
{% endmacro %}
{% macro btn_call(raw, display, classes='') %}
<a href="tel:{{ raw }}" class="btn-call {{ classes }}" aria-label="Call {{ display }}">&#128222; {{ display }}</a>
{% endmacro %}
{% macro btn_maps(url, label='Directions', classes='') %}
<a href="{{ url }}" target="_blank" class="btn-maps {{ classes }}" aria-label="{{ label }}">
  <svg viewBox="0 0 24 24" width="15" height="15" style="flex-shrink:0" aria-hidden="true"><path fill="#4285F4" d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z"/><circle fill="#fff" cx="12" cy="9" r="2.5"/></svg>
  {{ label }}
</a>
{% endmacro %}

{# Button CSS #}
{% macro button_css() %}
.btn-book{background:#1A73E8;color:#fff;padding:12px 22px;font-size:11px;letter-spacing:1.5px;text-transform:uppercase;font-weight:600;display:inline-flex;align-items:center;gap:8px;transition:all 0.3s;border-radius:2px;white-space:nowrap;text-decoration:none;}
.btn-book:hover{background:#1557B0;transform:translateY(-1px);}
.btn-wa{background:#25D366;color:#fff;padding:12px 22px;font-size:11px;letter-spacing:1.5px;text-transform:uppercase;font-weight:600;display:inline-flex;align-items:center;gap:8px;transition:all 0.3s;border-radius:2px;white-space:nowrap;text-decoration:none;}
.btn-wa:hover{background:#1da851;transform:translateY(-1px);}
.btn-call{background:#5F6368;color:#fff;padding:12px 22px;font-size:11px;letter-spacing:1.5px;text-transform:uppercase;font-weight:600;display:inline-flex;align-items:center;gap:8px;transition:all 0.3s;border-radius:2px;white-space:nowrap;text-decoration:none;}
.btn-call:hover{background:#474c52;transform:translateY(-1px);}
.btn-maps{background:#fff;color:#3C4043;border:1px solid #dadce0;padding:11px 18px;font-size:11px;letter-spacing:1px;text-transform:uppercase;font-weight:600;display:inline-flex;align-items:center;gap:7px;transition:all 0.3s;border-radius:2px;white-space:nowrap;text-decoration:none;}
.btn-maps:hover{background:#f8f9fa;box-shadow:0 1px 6px rgba(60,64,67,0.2);}
.btn-gold{background:var(--gold);color:var(--dark);padding:12px 24px;font-size:11px;letter-spacing:2px;text-transform:uppercase;font-weight:700;display:inline-flex;align-items:center;gap:8px;transition:all 0.3s;text-decoration:none;}
.btn-gold:hover{background:var(--gold-pale);transform:translateY(-1px);}
.btn-ghost{border:1px solid rgba(255,255,255,0.28);color:rgba(255,255,255,0.75);padding:12px 20px;font-size:11px;letter-spacing:2px;text-transform:uppercase;display:inline-flex;align-items:center;gap:8px;transition:all 0.3s;text-decoration:none;}
.btn-ghost:hover{border-color:var(--gold);color:var(--gold);}
{% endmacro %}

{# ── FULL FOOTER ── #}
{% macro full_footer(base_path='', stores=[]) %}
<footer>
<div class="ft-top">
  <div class="ft-brand-col">
    <div class="ft-brand">Naturals <span>Salon &amp; Spa</span></div>
    <div class="ft-tagline">India's most trusted salon network.<br>Premium beauty services across Bangalore.</div>
    <div class="ft-socials">
      <a href="https://instagram.com" title="Instagram" aria-label="Instagram">&#128248;</a>
      <a href="https://facebook.com"  title="Facebook" aria-label="Facebook">&#128077;</a>
    </div>
  </div>
  <div class="ft-col">
    <div class="ft-col-title">Explore</div>
    <ul>
      <li><a href="{{ base_path }}services.html">Services &amp; Pricing</a></li>
      <li><a href="{{ base_path }}offers.html">Offers</a></li>
      <li><a href="{{ base_path }}contact.html">Contact Us</a></li>
      <li><a href="{{ base_path }}index.html#about">About</a></li>
    </ul>
  </div>
  <div class="ft-col">
    <div class="ft-col-title">Locations</div>
    <ul>
      {% if stores %}{% for s in stores %}
      <li><a href="{{ base_path }}{{ s.Store_Page_URL }}">{{ s.Store_Name }}</a></li>
      {% endfor %}{% else %}
      <li><a href="{{ base_path }}stores/jpnagar.html">JP Nagar 5th Phase</a></li>
      <li><a href="{{ base_path }}stores/elements-mall.html">Elements Mall</a></li>
      <li><a href="{{ base_path }}stores/devasandra.html">Devasandra</a></li>
      <li><a href="{{ base_path }}stores/frazer-town.html">Frazer Town</a></li>
      <li><a href="{{ base_path }}stores/hennur.html">Hennur</a></li>
      {% endif %}
    </ul>
  </div>
  <div class="ft-col">
    <div class="ft-col-title">Policies</div>
    <ul>
      <li><a href="{{ base_path }}booking-policy.html">Booking Policy</a></li>
      <li><a href="{{ base_path }}cancellation-policy.html">Cancellation Policy</a></li>
      <li><a href="https://naturals.in" target="_blank" rel="noopener">Naturals India &#8599;</a></li>
    </ul>
  </div>
</div>
<div class="ft-bottom">
  <div class="ft-copy">&copy; 2026 Naturals Salon &amp; Spa, Bangalore. All rights reserved.</div>
  <div class="ft-url">naturals-blr.github.io</div>
</div>
</footer>
{% endmacro %}

{# Footer CSS #}
{% macro footer_css() %}
footer{background:#080f0b;}
[data-theme="naturals"] footer{background:#0D0120;}
.ft-top{padding:60px 60px 40px;display:grid;grid-template-columns:2fr 1fr 1fr 1fr;gap:48px;border-bottom:1px solid rgba(255,255,255,0.07);}
.ft-brand{font-family:'Cormorant Garamond',serif;font-size:28px;color:#fff;font-weight:300;margin-bottom:10px;}
.ft-brand span{color:var(--gold);font-style:italic;}
.ft-tagline{font-size:12px;color:rgba(255,255,255,0.28);font-weight:300;line-height:1.7;margin-bottom:18px;}
.ft-socials{display:flex;gap:14px;}
.ft-socials a{font-size:18px;transition:transform 0.3s;}
.ft-socials a:hover{transform:scale(1.2);}
.ft-col-title{font-size:9px;letter-spacing:3px;text-transform:uppercase;color:var(--gold);font-weight:600;margin-bottom:16px;}
.ft-col ul{list-style:none;display:flex;flex-direction:column;gap:9px;}
.ft-col ul a{font-size:12px;color:rgba(255,255,255,0.32);font-weight:300;transition:color 0.3s;text-decoration:none;}
.ft-col ul a:hover{color:rgba(255,255,255,0.72);}
.ft-bottom{padding:18px 60px;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:8px;}
.ft-copy{font-size:11px;color:rgba(255,255,255,0.16);}
.ft-url{font-size:11px;color:rgba(255,255,255,0.18);letter-spacing:1px;}
@media(max-width:960px){.ft-top{grid-template-columns:1fr 1fr;gap:28px;padding:36px 20px 24px;}.ft-bottom{padding:14px 20px;flex-direction:column;text-align:center;}}
@media(max-width:600px){.ft-top{grid-template-columns:1fr;padding:28px 16px 20px;}}
{% endmacro %}

{# WhatsApp SVG #}
{% macro wa_svg(size=18) %}
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#25D366" width="{{ size }}" height="{{ size }}" style="flex-shrink:0" aria-hidden="true"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
{% endmacro %}

{# Maps pin SVG #}
{% macro maps_pin(size=16) %}
<svg viewBox="0 0 24 24" width="{{ size }}" height="{{ size }}" style="flex-shrink:0" aria-hidden="true"><path fill="#4285F4" d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z"/><circle fill="#fff" cx="12" cy="9" r="2.5"/></svg>
{% endmacro %}

{# Prevent theme flash #}
{% macro theme_init_script() %}
<script>(function(){var t=localStorage.getItem('naturals-theme')||'luxury';document.documentElement.setAttribute('data-theme',t);})();</script>
{% endmacro %}
